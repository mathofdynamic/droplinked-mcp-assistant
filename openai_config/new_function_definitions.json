{
  "functions": [
    {
      "name": "manage_product_operations",
      "description": "Unified function for managing product operations: get product details, update products, or delete products. This is the recommended function to use for all product management tasks.",
      "parameters": {
        "type": "object",
        "properties": {
          "action": {
            "type": "string",
            "enum": ["get_product", "update_product", "delete_product"],
            "description": "The operation to perform: 'get_product' to view details, 'update_product' to modify fields, 'delete_product' to remove the product"
          },
          "product_id": {
            "type": "string",
            "description": "The ID of the product to operate on (required for all actions)"
          },
          "title": {
            "type": "string",
            "description": "New product title (for update_product action only)"
          },
          "description": {
            "type": "string", 
            "description": "New product description (for update_product action only)"
          },
          "price": {
            "type": "number",
            "description": "New product price (for update_product action only)"
          },
          "productCollectionID": {
            "type": "string",
            "description": "New collection ID for the product (for update_product action only)"
          },
          "media": {
            "type": "array",
            "items": {
              "type": "object"
            },
            "description": "New media array for the product (for update_product action only)"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "New tags array for the product (for update_product action only)"
          },
          "canBeAffiliated": {
            "type": "boolean",
            "description": "Whether the product can be affiliated (for update_product action only)"
          },
          "commission": {
            "type": "number",
            "description": "Affiliate commission percentage (for update_product action only)"
          }
        },
        "required": ["action", "product_id"]
      }
    },
    {
      "name": "get_product_by_id",
      "description": "Get detailed information about a specific product by its ID. Returns complete product data including title, description, pricing, media, and all other product details.",
      "parameters": {
        "type": "object",
        "properties": {
          "product_id": {
            "type": "string",
            "description": "The ID of the product to retrieve"
          }
        },
        "required": ["product_id"]
      }
    },
    {
      "name": "update_product",
      "description": "Update specific fields of an existing product. Only the fields provided in update_data will be modified.",
      "parameters": {
        "type": "object",
        "properties": {
          "product_id": {
            "type": "string",
            "description": "The ID of the product to update"
          },
          "update_data": {
            "type": "object",
            "description": "Object containing the fields to update. Can include: title, description, price, productCollectionID, media, tags, canBeAffiliated, commission",
            "properties": {
              "title": {
                "type": "string",
                "description": "New product title"
              },
              "description": {
                "type": "string",
                "description": "New product description"
              },
              "price": {
                "type": "number",
                "description": "New product price"
              },
              "productCollectionID": {
                "type": "string",
                "description": "New collection ID"
              },
              "media": {
                "type": "array",
                "description": "New media array"
              },
              "tags": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "New tags array"
              },
              "canBeAffiliated": {
                "type": "boolean",
                "description": "Whether product can be affiliated"
              },
              "commission": {
                "type": "number",
                "description": "Affiliate commission percentage"
              }
            }
          }
        },
        "required": ["product_id", "update_data"]
      }
    },
    {
      "name": "delete_product",
      "description": "Delete a product from the store. This action is irreversible - always confirm with the user before executing.",
      "parameters": {
        "type": "object",
        "properties": {
          "product_id": {
            "type": "string",
            "description": "The ID of the product to delete"
          }
        },
        "required": ["product_id"]
      }
    },
    {
      "name": "escalate_to_human_support",
      "description": "Escalate user issues to human support when the AI assistant cannot adequately help or when the user specifically requests human assistance. This sends a detailed report to the support team via Telegram. Use this when users express frustration, ask for human help, want to collaborate, have complex technical issues, or need assistance beyond the AI's capabilities.",
      "parameters": {
        "type": "object",
        "properties": {
          "user_email": {
            "type": "string",
            "description": "The email address of the user requesting support (required)"
          },
          "issue_description": {
            "type": "string", 
            "description": "Detailed description of what the user needs help with based on the conversation"
          },
          "category": {
            "type": "string",
            "enum": [
              "development", 
              "content", 
              "sales", 
              "marketing", 
              "business-development", 
              "general-support",
              "technical-issue",
              "product-listing",
              "payment-issue",
              "collaboration",
              "partnership",
              "api-integration"
            ],
            "description": "Category of the issue for proper routing to the right support team. Choose the most appropriate category based on the user's problem."
          },
          "conversation_history": {
            "type": "string",
            "description": "Optional summary or recent conversation context that would help the support team understand the user's situation better (max 500 characters will be included)"
          }
        },
        "required": ["user_email", "issue_description"]
      }
    }
  ]
} 