{
  "type": "function",
  "function": {
    "name": "escalate_to_human_support",
    "description": "Escalate user issues to human support team via Telegram. Now automatically extracts email from user's login session. Use when the user explicitly requests human help, encounters persistent technical issues, or when the AI cannot resolve their specific problem.",
    "parameters": {
      "type": "object",
      "properties": {
        "user_email": {
          "type": "string",
          "description": "User's email address (optional - will be extracted from login session automatically)"
        },
        "issue_description": {
          "type": "string", 
          "description": "Brief description of the user's issue or request for human assistance"
        },
        "category": {
          "type": "string",
          "enum": ["dev", "content", "marketing", "support", "sales", "technical", "billing", "general"],
          "default": "support",
          "description": "Category of support needed (will be auto-detected if not specified)"
        },
        "conversation_history": {
          "type": "string",
          "description": "Brief context from recent conversation (optional - will be extracted automatically)"
        }
      },
      "required": ["issue_description"]
    }
  }
} 